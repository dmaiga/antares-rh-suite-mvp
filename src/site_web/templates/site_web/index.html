{% extends 'site_web/layout.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section " style="background-color: var(--light-gray);">
    <div class="container py-3">
    <div class="row align-items-center">
      <div class="col-lg-6 order-lg-1 order-2 mt-3 mt-lg-0">
        <h1 class="fw-bold mb-3 fs-2" style="color: var(--primary-blue);">
          Antares : Au service des talents et des organisations
        </h1>
        <p class="lead mb-2" style="color: var(--secondary-blue);">
          Cabinet spécialisé en gestion des ressources humaines et en organisation des entreprises.
          Nous connectons les talents aux entreprises pour bâtir des équipes performantes, 
          fondées sur la collaboration, la confiance et le respect de l’humain. <br>
          <span style="text-decoration: underline; color: var(--accent-orange); font-weight: bold;">Notre mission</span> :
          accompagner les entreprises, les professionnels, les chercheurs d’emploi et les partenaires tout au long 
          de leur parcours de croissance.
        </p>

        <div class="d-flex flex-wrap gap-2">
          <a href="{%url 'entreprise-info' %}" class="btn btn-primary btn-lg px-3" style="background-color: var(--accent-orange); border-color: var(--accent-orange);">
            <i class="bi bi-building me-2"></i>Espace Entreprise
          </a>
          <a href="{%url 'candidate-registry' %}" class="btn btn-outline-primary btn-lg px-3" style="border-color: var(--primary-blue); color: var(--primary-blue);">
            <i class="bi bi-person-vcard me-2"></i>Espace Candidat
          </a>
        </div>
      </div>


      <!-- Image Hero seule -->
      <div class="col-lg-6 order-lg-2 order-1">
        <img src="{% static 'site_web/images/hero/hero-image-1.png' %}" 
             alt="Équipe professionnelle" 
             loading="eager"  
             class="img-fluid rounded-3 shadow-lg"
             style="max-height: 500px; width: 100%; object-fit: cover;">
      </div>
    </div>
  </div>
</section>

<!-- Section Offres -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Nos dernières offres</h2>
      <a href="{% url 'jobs' %}" class="btn btn-link text-decoration-none">
        Voir toutes <i class="bi bi-arrow-right ms-2"></i>
      </a>
    </div>
    
    <div class="row g-4">
      {% for job in featured_jobs %}
      <div class="col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm hover-shadow transition-all">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <h5 class="card-title mb-0">{{ job.titre }}</h5>
              <span class="badge rounded-pill {{ job.get_status_badge_class }} text-white ms-2">
                {{ job.get_statut_display }}
              </span>
            </div>
            
            <p class="card-text text-muted small mb-3">
              <i class="bi bi-building text-primary"></i> {{ job.societe }}
              {% if job.lieu %}
              <span class="ms-3"><i class="bi bi-geo-alt text-primary"></i> {{ job.lieu }}</span>
              {% endif %}
            </p>
            
            <div class="card-text mb-3 text-truncate-container" style="--lines:3;">
              {{ job.get_clean_description|striptags|truncatewords:30 }}
            </div>
            
            <div class="d-flex justify-content-between align-items-center mt-auto">
              <span class="badge bg-primary bg-opacity-10 text-primary">
                {{ job.get_type_offre_display }}
              </span>
              <a href="{% url 'public-job-offer-detail' job.pk %}" class="btn btn-sm btn-primary stretched-link">
                Voir détails
              </a>
            </div>
          </div>
          
          <div class="card-footer bg-transparent border-top-0 pt-0">
            <div class="d-flex justify-content-between align-items-center">
              <small class="text-muted">
                <i class="bi bi-clock text-primary"></i> Publiée {{ job.date_publication|timesince }}
              </small>
              {% if job.date_limite %}
              <small class="text-muted">
                <i class="bi bi-calendar-check text-primary"></i> Clôture {{ job.date_limite|date:"d/m/Y" }}
              </small>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="alert alert-info mb-0">
          <i class="bi bi-info-circle me-2"></i> Aucune offre disponible pour le moment.
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  /* Styles personnalisés */
  :root {
    --secondary-blue: #2D76B6;
    --light-gray: #F4F4F9;
    --dark-gray: #333333;
    --light-blue: #E6F0FA; 
    --accent-orange: #E04B1A;
    --primary-blue: #0A2E4E;
  }
  
  .hover-shadow {
    transition: box-shadow 0.3s ease;
  }
  
  .hover-shadow:hover {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
  }
  
  .text-truncate-container {
    display: -webkit-box;
    -webkit-line-clamp: var(--lines, 3);
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .card {
    border-radius: 0.5rem;
    overflow: hidden;
  }
  
  .badge {
    font-weight: 500;
    padding: 0.35em 0.65em;
  }
</style>


<!-- Dual Content Grid - Version enrichie -->
<section class="dual-grid-section py-5 bg-light">
  <div class="container">
    <div class="row g-4">
      <!-- Entreprise -->
      <div class="col-lg-6" id="entreprise">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-4 p-lg-5" style="background-color: var(--primary-blue); color: white;">
            <div class="badge mb-3" style="background-color: var(--accent-orange);">Pour les entreprises</div>
            <h2 class="mb-4">Optimisez votre capital humain</h2>
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Recrutement ciblé et rapide</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Personnel intérimaire disponible</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Externalisation RH complète</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Évaluation & audit social personnalisés</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Réactivité, conformité & réseau local/international</li>
            </ul>
            <a href="{% url 'services' %}" class="btn btn-outline-light">Découvrir nos services RH</a>
          </div>
        </div>
      </div>
      
      <!-- Candidat -->
      <div class="col-lg-6" id="candidat">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-4 p-lg-5" style="background-color: white;">
            <div class="badge mb-3" style="background-color: var(--primary-blue); color: white;">Pour les candidats</div>
            <h2 class="mb-4" style="color: var(--primary-blue);">Décrochez l'opportunité idéale</h2>
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Offres exclusives & ciblées</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Coaching personnalisé & suivi</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Accès à un large réseau d'entreprises</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Formations adaptées à votre profil</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Accompagnement administratif et social</li>
            </ul>
            <a href="{% url 'jobs' %}" class="btn btn-outline-primary" style="border-color: var(--primary-blue); color: var(--primary-blue);">Explorer les offres</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Section Valeurs - Optimisée pour mobile -->
<section class="values-section py-5" style="background-color: #FFFFFF;">
  <div class="container">
    <h2 class="text-center mb-5" style="color: #0D3B66;">Nos Valeurs à Antares</h2>
    <div class="row g-4">
      <!-- Carte Valeur 1 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-shield-check fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Fiabilité</h3>
          <p class="small text-muted mb-0">Engagements contractuels strictement respectés</p>
        </div>
      </div>
      
      <!-- Carte Valeur 2 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-geo-alt fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Expertise locale</h3>
          <p class="small text-muted mb-0">Connaissance approfondie des marchés africains</p>
        </div>
      </div>
      
      <!-- Carte Valeur 3 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-lightbulb fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Innovation</h3>
          <p class="small text-muted mb-0">Solutions digitales pour une gestion RH moderne</p>
        </div>
      </div>
      
      <!-- Carte Valeur 4 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-people fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Proximité</h3>
          <p class="small text-muted mb-0">Relation personnalisée avec chaque client</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Carrousel Partenaires -->
<section class="partners-section py-5" style="background-color: #F4F4F9;">
  <div class="container-fluid px-0">
    <h3 class="h5 text-center text-muted mb-4">Ils nous font confiance</h3>
    <div class="splide" id="partners-slider">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/bama.png' %}" alt="Bama" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/cmm.jpg' %}" alt="Ciments et Matériaux du Mali" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/gino.jpg' %}" alt="Gino" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/jago.jpg' %}" alt="Jago" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/Sonavie.png' %}" alt="Sonavie" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/jumbo.png' %}" alt="Jumbo" class="img-fluid">
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- CTA Final - Optimisé pour mobile -->
<section class="cta-section py-5" style="background-color: #F46036; color: white;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <h2 class="fw-bold mb-4">Prêt à transformer votre expérience RH ?</h2>
        <p class="lead mb-4">Nos experts sont à votre écoute pour répondre à vos besoins en recrutement et gestion des talents.</p>
        
        <div class="d-flex flex-column flex-md-row justify-content-center gap-3">
          <a href="{% url 'contact' %}" class="btn btn-light btn-lg px-4 py-3" style="color: #F46036;">
            <i class="bi bi-chat-left-text me-2"></i>Parler à un expert
          </a>
          <a href="{% url 'jobs' %}" class="btn btn-outline-light btn-lg px-4 py-3">
            <i class="bi bi-search me-2"></i>Rechercher des offres
          </a>
        </div>
        
        <!-- Numéro de téléphone visible sur mobile -->
        <div class="mt-4 d-block d-md-none">
          <a href="tel:+22300000000" class="text-white d-inline-flex align-items-center">
            <i class="bi bi-telephone-fill me-2"></i> +223 00 00 00 00
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Hero Section */
  .hero-section {
    background: linear-gradient(135deg, var(--light-gray) 0%, white 100%);
  }
  
  /* Section Offres */
  .jobs-section .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .jobs-section .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
  }
  
  /* Partenaires */
  .partners-section {
    border-top: 1px solid rgba(0,0,0,0.05);
    border-bottom: 1px solid rgba(0,0,0,0.05);
  }
  
  .partner-item {
    padding: 0 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100px;
  }
  
  .partner-item img {
    max-height: 60px;
    width: auto;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    filter: grayscale(100%);
    opacity: 0.7;
  }
  
  .partner-item:hover img {
    transform: scale(0.9);
    filter: grayscale(0%);
    opacity: 1;
  }
  
  /* Valeurs */
  .values-section .value-card {
    transition: all 0.3s ease;
    border: 1px solid rgba(0,0,0,0.05);
  }
  
  .values-section .value-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .hero-section h1 {
      font-size: 2rem !important;
    }
    
    .hero-section .btn {
      width: 100%;
      margin-bottom: 0.5rem;
    }
    
    .values-section .col-6 {
      padding: 0.5rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Splide('#partners-slider', {
      type: 'loop',
      perPage: 5,
      perMove: 1,
      autoplay: true,
      interval: 3000,
      speed: 600,
      pauseOnHover: true,
      arrows: false,
      pagination: false,
      breakpoints: {
        1200: { perPage: 4 },
        992: { perPage: 3 },
        768: { perPage: 2 },
        576: { perPage: 1 }
      }
    }).mount();
  });
</script>
{% endblock %}